<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>Morris Jobke</title><link rel=stylesheet href=/css/pygment_trac.css?1666873741><link rel=alternate type=application/atom+xml title="Atom feed" href=/feed.xml><link rel=stylesheet href=/css/webfonts.css?1666873741><link rel=stylesheet href=/css/base.css?1666873741><meta property="og:title" content="GSoC - Weeks 3, 4 and 5"><meta property="og:description" content="Goals reordered I have decided to reorder my goals. In my proposal I wrote, that I implement the API first, then write the AngularJS frontend, after that the metadata scanner and finally external APIs like Ampache. I changed the position of the frontend and metadata scanner implementation as this is more reasonable.
Travis is awesome I introduced continous integration through Travis CI and it&rsquo;s so helpful, because it checks every commit and runs the whole test suite on it&rsquo;s own."><meta property="og:type" content="article"><meta property="og:url" content="https://morrisjobke.de/2013/07/22/GSoC-Third-report/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-07-22T09:59:00+00:00"><meta property="article:modified_time" content="2013-07-22T09:59:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="GSoC - Weeks 3, 4 and 5"><meta name=twitter:description content="Goals reordered I have decided to reorder my goals. In my proposal I wrote, that I implement the API first, then write the AngularJS frontend, after that the metadata scanner and finally external APIs like Ampache. I changed the position of the frontend and metadata scanner implementation as this is more reasonable.
Travis is awesome I introduced continous integration through Travis CI and it&rsquo;s so helpful, because it checks every commit and runs the whole test suite on it&rsquo;s own."><meta name=twitter:site content="@MorrisJobke"><meta itemprop=name content="GSoC - Weeks 3, 4 and 5"><meta itemprop=description content="Goals reordered I have decided to reorder my goals. In my proposal I wrote, that I implement the API first, then write the AngularJS frontend, after that the metadata scanner and finally external APIs like Ampache. I changed the position of the frontend and metadata scanner implementation as this is more reasonable.
Travis is awesome I introduced continous integration through Travis CI and it&rsquo;s so helpful, because it checks every commit and runs the whole test suite on it&rsquo;s own."><meta itemprop=datePublished content="2013-07-22T09:59:00+00:00"><meta itemprop=dateModified content="2013-07-22T09:59:00+00:00"><meta itemprop=wordCount content="348"><meta itemprop=keywords content></head><body><div class=header><div class=container><span class=name>Morris<b>Jobke</b></span><ul class=menu><li><a href=/>Articles</a></li>/<li><a href=/emobility>E-mobility</a></li>/<li><a href=/talks>Talks</a></li>/<li><a href=/links>Links</a></li><li class=item-right><a href=/feed.xml><svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M576 1344q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm512 123q2 28-17 48-18 21-47 21H889q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5T250 902q-25-2-41.5-20T192 839V704q0-29 21-47 17-17 43-17h5q160 13 306 80.5T826 902q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5T1329 1476q-12-215-101-408.5t-231.5-336-336-231.5T252 398q-25-1-42.5-19.5T192 335V192q0-28 20-46 18-18 44-18h3q262 13 501.5 120T1186 542q187 186 294 425.5t120 501.5z" fill="#fff"/></svg></a></li><li class=item-right><a href=https://twitter.com/MorrisJobke><svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z" fill="#fff"/></svg></a></li><li class=item-right><a href=https://github.com/MorrisJobke><svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 896q0 251-146.5 451.5T1139 1625q-27 5-39.5-7t-12.5-30v-211q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105T1386 856q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27T578 459.5 492 446q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5T484 1274q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 89t.5 54q0 18-13 30t-40 7q-232-77-378.5-277.5T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z" fill="#fff"/></svg></a></li></ul></div></div><div class=container><h1>GSoC - Weeks 3, 4 and 5 <span class=meta>22 Jul 2013</span></h1><div id=post><h3 id=goals-reordered>Goals reordered</h3><p>I have decided to reorder my goals. In my proposal I wrote, that I implement
the API first, then write the AngularJS frontend, after that the metadata
scanner and finally external APIs like Ampache. I changed the position of the
frontend and metadata scanner implementation as this is more reasonable.</p><h3 id=travis-is-awesome>Travis is awesome</h3><p>I introduced continous integration through <a href=https://travis-ci.org>Travis CI</a> and it&rsquo;s so helpful,
because it checks every commit and runs the whole test suite on it&rsquo;s own.
After it has finished you get an email with the result. And there is nothing
better than an email with &ldquo;The build passed.&rdquo; in brilliant green at the end of
your working day . :)</p><h3 id=metadata-extraction>Metadata extraction</h3><p>At the last weekend I implemented the metadata scanner. Currently it uses the
<a href=https://github.com/JamesHeinrich/getID3>getID3</a> library to extract the metadate from files. After this it caches
them inside of the database. After a file deletion the corresponding metadata
will be deleted. Thus a consistent state of the metaddata inside of the
database is guranteed.</p><p>The hooks I used for the detection of changes works properly for file uploads
or deletion done through the web interface but if I use WebDAV they weren&rsquo;t
emitted.</p><h3 id=next-steps>Next steps</h3><p>In the next days I will add further tests, check against audio files with
incomplete metadata and introduce debug logging. The latter should make it
easy for others to send me bug reports and for me to figure out where
something is broken.</p><h3 id=want-to-see-it-in-action>Want to see it in action?</h3><p>The <a href=https://github.com/owncloud/music/blob/master/README.md>README</a> contains a instruction how to set up the original shiva client
(because the ownCloud one isn&rsquo;t implemented yet). You need to checkout the
<code>music-scanner</code> branch of the <a href=https://github.com/owncloud/music>music app repository</a> (this will be
merged soon in the <code>master</code> branch).</p><p>The changes of the last days can be found in this overall <a href=https://github.com/owncloud/music/compare/7d25859e500dec7c442bf464c1a856467fd31ab1...fab5b57f331aaa6ca0dd7775da52f2a7c77006c3>GitHub diff</a> or
splitted up into two separate diffs <a href=https://github.com/owncloud/music/compare/7d25859e500dec7c442bf464c1a856467fd31ab1...daca8eda4183867dd2dc3b75b043fc68793f3ee2>1</a> and <a href=https://github.com/owncloud/music/compare/0abfbf00ba69330b2fdd85f0844ec8e551fe4869...fab5b57f331aaa6ca0dd7775da52f2a7c77006c3>2</a> to exclude the import of
the getID3 library.</p><p>Today I migrated the old <code>future</code> branch to <code>master</code> because the old media app
is maintained inside of the <a href=https://github.com/owncloud/apps>apps repository</a> in the <code>stable5</code> branch.</p></div></div><div class="container footer">Morris Jobke - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a></div></body></html>